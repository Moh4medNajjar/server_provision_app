<div class="container-fluid" style="height: 1300px ;">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <h5 class="text-center mt-3">- Sign up as admin -</h5>

  <div class="d-flex align-items-center justify-content-center" style="flex-direction: column">
    <form [formGroup]="signUpForm" (ngSubmit)="onSubmit(f)" #f="ngForm" style="width: min(400px, 100%);">

      <div>

        <div class="d-flex justify-content-center align-items-center">
          <div class="form-group me-3">
            <label for="firstname">First Name</label>
            <input id="firstname" formControlName="firstname" class="form-control" type="text" placeholder="Enter your first name">
            @if(signUpForm.get('firstname')?.touched && signUpForm.get('firstname')?.invalid){
              <div class="red">
                <i class="fa fa-times-circle"></i> First name is required.
              </div>
            }
            @if(signUpForm.get('firstname')?.touched && signUpForm.get('firstname')?.valid){
              <div class="green">
                <i class="fa fa-check-circle"></i> Looks good!
              </div>
            }
          </div>

          <div class="form-group">
            <label for="lastname">Last Name</label>
            <input id="lastname" formControlName="lastname" class="form-control" type="text" placeholder="Enter your last name">
            @if(signUpForm.get('lastname')?.touched && signUpForm.get('lastname')?.invalid){
              <div class="red">
                <i class="fa fa-times-circle"></i> Last name is required.
              </div>
            }
            @if(signUpForm.get('lastname')?.touched && signUpForm.get('lastname')?.valid){
              <div class="green">
                <i class="fa fa-check-circle"></i> Looks good!
              </div>
            }
          </div>
        </div>


        <div class="form-group">
          <label for="email">Email</label>
          <input id="email" formControlName="email" class="form-control" type="email" placeholder="Enter your email">
          @if(signUpForm.get('email')?.touched && signUpForm.get('email')?.invalid){
            <div class="red">
              <i class="fa fa-times-circle"></i> Email is missing or not valid.
            </div>
          }
          @if(signUpForm.get('email')?.touched && signUpForm.get('email')?.valid){
            <div class="green">
              <i class="fa fa-check-circle"></i> Looks good!
            </div>
          }
        </div>

        <div class="d-flex align-items-center justify-content-between">
          <div class="form-group me-3">
            <label for="department">department</label>
            <input id="department" formControlName="department" class="form-control" type="text" placeholder="Enter your department">
            @if(signUpForm.get('department')?.touched && signUpForm.get('department')?.invalid && !signUpForm.get('department')?.pristine){
              <div class="red">
                <i class="fa fa-times-circle"></i> department is required!
              </div>
            }
            @if(signUpForm.get('department')?.touched && signUpForm.get('department')?.valid){
              <div class="green">
                <i class="fa fa-check-circle"></i> Looks good!
              </div>
            }
          </div>

          <div class="form-group">
            <label for="phoneNumber">Phone Number</label>
            <input id="phoneNumber" formControlName="phoneNumber" class="form-control" type="number" maxlength="8" placeholder="(+216)">
            @if(signUpForm.get('phoneNumber')?.touched && signUpForm.get('phoneNumber')?.invalid && !signUpForm.get('phoneNumber')?.pristine){
              <div class="red">
                <i class="fa fa-times-circle"></i> Phone number is required!
              </div>
            }
            @if(signUpForm.get('phoneNumber')?.touched && signUpForm.get('phoneNumber')?.valid){
              <div class="green">
                <i class="fa fa-check-circle"></i> Looks good!
              </div>
            }
          </div>
        </div>

        <div class="d-flex align-items-center justify-content-center">
          <div class="form-group me-3">
            <label for="matricule">Matricule</label>
            <input id="matricule" formControlName="matricule" class="form-control" type="text" placeholder="Enter your Matricule">
            @if(signUpForm.get('matricule')?.touched && signUpForm.get('matricule')?.invalid){
              <div class="red">
                <i class="fa fa-times-circle"></i> Matricule is required.
              </div>
            }
            @if(signUpForm.get('matricule')?.touched && signUpForm.get('matricule')?.valid){
              <div class="green">
                <i class="fa fa-check-circle"></i> Looks good!
              </div>
            }
          </div>

          <div class="form-group">
            <label for="position">Position</label>
            <input id="position" formControlName="position" class="form-control" type="text" placeholder="Enter your position">
            @if(signUpForm.get('position')?.touched && signUpForm.get('position')?.invalid){
              <div class="red">
                <i class="fa fa-times-circle"></i> Position is required.
              </div>
            }
            @if(signUpForm.get('position')?.touched && signUpForm.get('position')?.valid){
              <div class="green">
                <i class="fa fa-check-circle"></i> Looks good!
              </div>
            }
          </div>
        </div>

        <div class="d-flex align-items-center justify-content-center">
          <div class="form-group me-3">
            <label for="password">Password</label>
            <input id="password" formControlName="password" class="form-control" type="password" placeholder="Enter your password">
            @if(signUpForm.get('password')?.touched && signUpForm.get('password')?.invalid){
              @if(signUpForm.get('password')?.errors?.['required']){
                <div class="red">
                  <i class="fa fa-times-circle"></i> Password is required.
                </div>
              }
              @if(signUpForm.get('password')?.errors?.['minlength'] && signUpForm.get('password')?.errors?.['pattern']){
                <div class="red">
                  <i class="fa fa-times-circle"></i> Password must be at least 8 characters.
                </div>
              }
              @if(signUpForm.get('password')?.errors?.['pattern']){
                <div class="red">
                  <i class="fa fa-times-circle"></i> Use a strong password.
                </div>
              }
            }
            @if(signUpForm.get('password')?.touched && signUpForm.get('password')?.valid){
              <div class="green">
                <i class="fa fa-check-circle"></i> Looks good!
              </div>
            }
          </div>

          <div class="form-group">
            <label for="confirmPassword">Confirm Password</label>
            <input id="confirmPassword" formControlName="confirmPassword" class="form-control" type="password" placeholder="Confirm your password">

            <!-- Check if confirmPassword field is touched and invalid -->
            @if (signUpForm.get('confirmPassword')?.touched && signUpForm.get('confirmPassword')?.invalid) {
              <!-- Check if the error is 'required' -->
              @if (signUpForm.get('confirmPassword')?.errors?.['required']) {
                <div class="red">
                  <i class="fa fa-times-circle"></i> Confirm Password is required.
                </div>
              }
              <!-- Check if the error is 'mismatch' and confirmPassword field is dirty -->
              @if (signUpForm.hasError('mismatch') && signUpForm.get('confirmPassword')?.dirty) {
                <div class="red">
                  <i class="fa fa-times-circle"></i> Password mismatch!
                </div>
              }
            }

            <!-- Check if confirmPassword field is touched and valid -->
            @if (signUpForm.get('confirmPassword')?.touched && signUpForm.get('confirmPassword')?.valid) {
              <div class="green">
                <i class="fa fa-check-circle"></i> Passwords matching!
              </div>
            }
          </div>

        </div>
      </div>

      <div class="form-group" style="margin-top:60px">
        <h6 class="mt-4 mb-2 fw-bold fs-5">Azure Credentials</h6>

        <div class="form-group">
          <label for="tenantId">Tenant ID</label>
          <input id="tenantId" formControlName="tenantId" class="form-control" type="text" placeholder="Enter your Azure Tenant ID">
          @if (signUpForm.get('tenantId')?.touched && signUpForm.get('tenantId')?.invalid) {
            <div class="red">
              <i class="fa fa-times-circle"></i> Tenant ID is required.
            </div>
          }
          @if (signUpForm.get('tenantId')?.touched && signUpForm.get('tenantId')?.valid) {
            <div class="green">
              <i class="fa fa-check-circle"></i> Looks good!
            </div>
          }
        </div>

        <div class="form-group">
          <label for="clientId">Client ID</label>
          <input id="clientId" formControlName="clientId" class="form-control" type="text" placeholder="Enter your Azure Client ID">
          @if (signUpForm.get('clientId')?.touched && signUpForm.get('clientId')?.invalid) {
            <div class="red">
              <i class="fa fa-times-circle"></i> Client ID is required.
            </div>
          }
          @if (signUpForm.get('clientId')?.touched && signUpForm.get('clientId')?.valid) {
            <div class="green">
              <i class="fa fa-check-circle"></i> Looks good!
            </div>
          }
        </div>

        <div class="form-group">
          <label for="clientSecret">Client Secret</label>
          <input id="clientSecret" formControlName="clientSecret" class="form-control" type="text" placeholder="Enter your Azure Client Secret">
          @if (signUpForm.get('clientSecret')?.touched && signUpForm.get('clientSecret')?.invalid) {
            <div class="red">
              <i class="fa fa-times-circle"></i> Client Secret is required.
            </div>
          }
          @if (signUpForm.get('clientSecret')?.touched && signUpForm.get('clientSecret')?.valid) {
            <div class="green">
              <i class="fa fa-check-circle"></i> Looks good!
            </div>
          }
        </div>

        <div class="form-group">
          <label for="subscriptionId">Subscription ID</label>
          <input id="subscriptionId" formControlName="subscriptionId" class="form-control" type="text" placeholder="Enter your Azure Subscription ID">
          @if (signUpForm.get('subscriptionId')?.touched && signUpForm.get('subscriptionId')?.invalid) {
            <div class="red">
              <i class="fa fa-times-circle"></i> Subscription ID is required.
            </div>
          }
          @if (signUpForm.get('subscriptionId')?.touched && signUpForm.get('subscriptionId')?.valid) {
            <div class="green">
              <i class="fa fa-check-circle"></i> Looks good!
            </div>
          }
        </div>

      <div class="d-flex align-items-center justify-content-center">
        <button class="btn"

                style="background-color:#32BEDD; color:white; padding: 4px 15px; border-radius: 0px; margin-top:10px"
                type="submit"
                [disabled]="!signUpForm.valid">Create admin account</button>
      </div>


    </div>
    </form>
  </div>
</div>
